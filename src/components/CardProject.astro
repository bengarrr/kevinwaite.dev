---
import { NewLineKind } from 'typescript';

interface Props {
    title: string;
    description: string;
    tags: string;
    date?: string;
    link?: string;
}

const { title, description, tags, date, link } = Astro.props;

let icon;

link?.indexOf("github") > -1 ? icon = 0 : icon = 1;
---

<div class="card project-card">
    <div class="project-card--header">
        <div class="project-card--title flex flex-row justify-between">
            <span class="grow-[1]">{title}</span>
            { link ? 
                <a href={link} target="_blank"> {
                    icon === 0 ? 
                    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 256"><path fill="currentColor" d="M208.31 75.68A59.78 59.78 0 0 0 202.93 28a8 8 0 0 0-6.93-4a59.75 59.75 0 0 0-48 24h-24a59.75 59.75 0 0 0-48-24a8 8 0 0 0-6.93 4a59.78 59.78 0 0 0-5.38 47.68A58.14 58.14 0 0 0 56 104v8a56.06 56.06 0 0 0 48.44 55.47A39.8 39.8 0 0 0 96 192v8H72a24 24 0 0 1-24-24a40 40 0 0 0-40-40a8 8 0 0 0 0 16a24 24 0 0 1 24 24a40 40 0 0 0 40 40h24v16a8 8 0 0 0 16 0v-40a24 24 0 0 1 48 0v40a8 8 0 0 0 16 0v-40a39.8 39.8 0 0 0-8.44-24.53A56.06 56.06 0 0 0 216 112v-8a58.14 58.14 0 0 0-7.69-28.32M200 112a40 40 0 0 1-40 40h-48a40 40 0 0 1-40-40v-8a41.74 41.74 0 0 1 6.9-22.48a8 8 0 0 0 1.1-7.69a43.8 43.8 0 0 1 .79-33.58a43.88 43.88 0 0 1 32.32 20.06a8 8 0 0 0 6.71 3.69h32.35a8 8 0 0 0 6.74-3.69a43.87 43.87 0 0 1 32.32-20.06a43.8 43.8 0 0 1 .77 33.58a8.09 8.09 0 0 0 1 7.65a41.7 41.7 0 0 1 7 22.52Z"/></svg>
                    : 
                    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 256"><path fill="currentColor" d="M240 88.23a54.43 54.43 0 0 1-16 37L189.25 160a54.27 54.27 0 0 1-38.63 16h-.05A54.63 54.63 0 0 1 96 119.84a8 8 0 0 1 16 .45A38.62 38.62 0 0 0 150.58 160a38.4 38.4 0 0 0 27.31-11.31l34.75-34.75a38.63 38.63 0 0 0-54.63-54.63l-11 11A8 8 0 0 1 135.7 59l11-11a54.65 54.65 0 0 1 77.3 0a54.86 54.86 0 0 1 16 40.23m-131 97.43l-11 11A38.4 38.4 0 0 1 70.6 208a38.63 38.63 0 0 1-27.29-65.94L78 107.31a38.63 38.63 0 0 1 66 28.4a8 8 0 0 0 16 .45A54.86 54.86 0 0 0 144 96a54.65 54.65 0 0 0-77.27 0L32 130.75A54.62 54.62 0 0 0 70.56 224a54.28 54.28 0 0 0 38.64-16l11-11a8 8 0 0 0-11.2-11.34"/></svg>
                    }
                </a> 
                : 
                null
            }
        </div>
        <div class="project-card--description">{description}</div>
        <div class="project-card--tags">{tags}</div>
        { date ? <div class="project-card--date">{date}</div> : null }
    </div>
    <div class="project-card--details text-sm">
        <ul>
            <slot></slot>
        </ul>
    </div>
</div>

<style>
    .project-card {
        @apply min-w-full md:min-w-[450px];
    }
    .project-card--title {
        @apply text-2xl font-black text-indigo-500 primary:text-indigo-500 secondary:text-mantis-500 tertiary:text-lavender-500;
    }
    .project-card--description {
        @apply text-2xl font-black text-indigo-700 primary:text-indigo-700 secondary:text-mantis-700 tertiary:text-lavender-700;
    }
    .project-card--tags {
        @apply mb-5 font-bold text-lg text-indigo-900 primary:text-indigo-900 secondary:text-mantis-900 tertiary:text-lavender-900;
    }

    :global(.project-card--details>ul>li) {
        @apply mb-5;
    }
    :global(.project-card--details>ul>li:last-child) {
        @apply mb-0;
    }
</style>